<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
    <title>MoneyPolo Secure Payments</title>
    <link rel="stylesheet" href="css/styles.min.css">
    <link rel="stylesheet" href="css/print.min.css">
    <!--<link rel="stylesheet" href="css/OKPAY/OKPAY.css">-->
    <link rel="stylesheet" href="css/MONEYPOLO/MONEYPOLO.css">
    <!-- <link rel="stylesheet" href="css/NGG/NGG.css"> -->
    <!--<link rel="stylesheet" href="css/RERUM/RERUM.css">-->

    <link rel="icon"
          type="image/png"
          href="favicon.ico"/>
    <link rel="apple-touch-icon" sizes="57x57" href="img/57x57icon.png"/>
    <!-- Retina iPhone, iPod touch -->
    <link rel="apple-touch-icon" sizes="114x114" href="img/114x114icon.png"/>
    <!-- Standard iPad -->
    <link rel="apple-touch-icon" sizes="72x72" href="img/72x72icon.png"/>
    <!-- Retina iPad -->
    <link rel="apple-touch-icon" sizes="144x144" href="img/144x144icon.png"/>
</head>
<body>
<div id="wrap" class="wrap-cc">
    <img src="img/logo_mono.png" alt="MoneyPolo" class="mp-logo rel visible-print-block" id="print-logo">
    <header class="navbar navbar-default navbar-fixed-top navbar-v2">
        <div class="container">
            <div class="navbar-header">
                <div class="row">
                    <div class="col-md-12 text-left text-center-xs">
                        <div id="mp-logo">
                            <div class="header-logo"><i class="header-logo-img"></i></div>
                        </div>
                    </div>
                    <div class="col-md-6 text-left text-center-xs margin-top-5">
                        <span class="header-text"><small> Order description to</small><strong>Internet Mall
                            a.s.</strong>
                            <br/>
                            <a href="http://mall.cz" class="header-link"><span
                                    class="header-link">www.mall.cz</span></a>
                        </span>
                    </div>
                    <div class="col-md-6 text-right text-center-xs header-text">
                        <small class="hidden-xs">Total amount you pay:</small>
                        <div class="currency header-text">
                            <span class="currency-whole header-text">165</span>.00 EUR
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <form method="post" action="step-3-success-v3.html" class="wrapper" autocomplete="off">
        <main>
            <div class="middle-cell">
                <div class="container" id="contents">

                    <div class="panel panel-large-padding">
                        <div class="panel-body margin-bottom-20">
                            <h1 class="text-center">Payment with a card</h1>
                        </div>

                        <div class="hidden-xs hidden-sm">
                            <div class="cc-form cc-form-v2 margin-top-26 margin-bottom-80">
                                <div class="cc-left" style="display: table">
                                    <div class="text-right">
                                        <img id="desktop-card-type-img" src="img/addon-visa.png" alt=""
                                             class="img-addon transparent"/>
                                    </div>
                                    <div class="cc-cardnumber-wrap">
                                        <label>Card number</label>

                                        <div class="cc-field">
                                            <div class="input-group">
                                                <input class="cc-input cardnumber"
                                                       autocomplete="off"
                                                       tabindex="1"
                                                       data-validation="length"
                                                       data-validation-creditcard="true"
                                                       data-validation-length="16-16"
                                                       data-validation-formatted="true"
                                                       id="desktop-cardnumber"
                                                       name="cardnumber"
                                                       type="tel" placeholder="">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="cc-cardholder-wrap">
                                        <label>Card holder name</label>

                                        <div class="cc-field cc-div-cardholder">
                                            <input class="cc-input text-capitalize" id="desktop-cardname"
                                                   autocomplete="off"
                                                   name="cardname"
                                                   maxlength="50"
                                                   tabindex="4"
                                                   data-validation="length" data-validation-length="min1"
                                                   type="text" placeholder="eg. Michael Smith">
                                        </div>
                                    </div>
                                    <div class="cc-date-wrap">
                                        <label class="">Expiration date</label>

                                        <div class="inline-block">
                                            <div class="cc-field">
                                                <input class="cc-input"
                                                       name="expMonth"
                                                       id="desktop-month"
                                                       data-validation="date"
                                                       data-validation-format="mm"
                                                       tabindex="2"
                                                       type="tel" placeholder="MM"
                                                       maxlength="2" autocomplete="off"/>
                                            </div>
                                        </div>
                                        <div class="cc-separator"></div>
                                        <div class="inline-block">
                                            <div class="cc-field">
                                                <input class="cc-input" id="desktop-year" tabindex="3" type="tel"
                                                       name="expYear"
                                                       data-validation="date"
                                                       data-validation-format="yy"
                                                       placeholder="YY" maxlength="2" autocomplete="off">
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="cc-right">
                                    <div class="cc-last-digits cc-field">
                                        <label>CVV/CVC</label>

                                        <div>
                                            <input class="cc-input cvv"
                                                   name="cvv"
                                                   id="desktop-cvv" autocomplete="off"
                                                   data-validation="length" data-validation-length="3-4"
                                                   maxlength="4" tabindex="5" type="tel" placeholder="CVV"/>
                                        </div>
                                        <div class="help-block" style="display:block">
                                            Last three digits on the back side of your card.
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>
                        <div class="panel cc-mobile visible-xs visible-sm">
                            <div class="panel-heading">
                                <label>Card number</label>
                                <div class="panel panel-input panel-cardnumber">
                                    <div class="form-group panel-body">

                                        <div class="input-group">
                                            <input type="tel"
                                                   name="cardnumber"
                                                   class="form-control cardnumber"
                                                   id="mobile-cardnumber"
                                                   data-validation-creditcard="true"
                                                   data-validation="length"
                                                   data-validation-length="16-16"
                                                   data-validation-formatted="true"
                                                   tabindex="6"
                                                   placeholder="">

                                            <div class="input-group-addon hidden-xs">
                                                <img src="img/addon-visa.png" alt=""
                                                     class="img-addon transparent unselectable"
                                                     id="mobile-card-type-img"
                                                     onclick="$('#mobile-cardnumber').focus();"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <label>Card holder name</label>
                                <div class="panel panel-input cc-lockable">
                                    <div class="form-group panel-body">
                                        <input type="text"
                                               tabindex="7"
                                               name="cardname"
                                               class="form-control text-capitalize" id="mobile-cardname"
                                               data-validation="length" data-validation-length="min1"
                                               placeholder="eg. Michael Smith">
                                    </div>
                                </div>
                                <label>Expiration date</label>
                                <div class="row position-relative cc-lockable">
                                    <div class="col-xs-6">
                                        <div class="panel panel-input">
                                            <div class="form-group panel-body">
                                                <input class="form-control text-center"
                                                       id="mobile-month"
                                                       data-validation="date"
                                                       data-validation-format="mm"
                                                       tabindex="8"
                                                       name="expMonth"
                                                       type="tel" placeholder="MM"
                                                       onfocus="blur();"
                                                       maxlength="2" autocomplete="off"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6">
                                        <div class="panel panel-input">
                                            <div class="form-group panel-body">
                                                <input class="form-control text-center"
                                                       id="mobile-year"
                                                       name="expYear"
                                                       data-validation="date"
                                                       data-validation-format="yy"
                                                       tabindex="8"
                                                       type="tel" placeholder="YY"
                                                       onfocus="blur();"
                                                       maxlength="2" autocomplete="off"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row margin-bottom-16">
                                    <div class="col-xs-6">
                                        <label>CVV/CVC</label>
                                        <div class="panel panel-input">
                                            <div class="form-group panel-body">
                                                <input type="tel"
                                                       tabindex="9"
                                                       maxlength="4"
                                                       name="cvv"
                                                       class="form-control cvv text-center" id="mobile-cvv"
                                                       data-validation="length" data-validation-length="3-4"
                                                       placeholder="CVV">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="panel-body text-center margin-top-15 margin-bottom-0">
                            <a class="button-round-link hidden-xs" href="index.html"><div class="button-round">Back</div></a>
                            <button type="submit" class="button-round button-dark">
                                Pay&nbsp;<strong><span class="currency-whole">150</span><span
                                    class="currency-small">.00 EUR</span></strong>
                            </button>
                            <a class="button-round-link visible-xs-inline-block" href="index.html"><div class="button-round">Back</div></a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </form>
    <footer id="footer" class="col-xs-12">
        <p class="text-center margin-top-15">
            By using MoneyPolo Secure Payments, you agree to our <a href="terms-conditions.html" id="btn-terms"
                                                                    target="_blank">Terms and Conditions</a>.
        </p>

        <p class="text-center margin-top-15">
            <img src="img/logo_powered_by.png" alt="MoneyPolo" class="img-footer-logo">
        </p>
    </footer>
</div>
<script src="js/jquery-1.11.2.min.js" charset="UTF-8"></script>
<script src="js/bootstrap.min.js" charset="UTF-8"></script>
<script src="js/bootstrap-select.js" charset="UTF-8"></script>
<script src="js/jquery.formatter.min.js" charset="UTF-8"></script>
<script src="js/error_messages.js" charset="UTF-8"></script>
<script src="js/jquery.form-validator.js" charset="UTF-8"></script>
<script src="js/bootstrap-datepicker.js" charset="UTF-8"></script>
<script src="js/script.js" charset="UTF-8"></script>
<script src="js/float-labels.js" charset="UTF-8"></script>

<script>
    $.validate({
        'onSuccess': function () {
            $("input, select").attr('readonly', true);
            $(":submit").attr('disabled', true).addClass("btn-loading");

            // disable set of fields that are not currently visible
            var id_prefix = $("#mobile-cvv").is(":visible") ? "#desktop-" : "#mobile-";
            $(id_prefix + "cardname").prop("disabled", true);
            $(id_prefix + "cardnumber").prop("disabled", true);
            $(id_prefix + "cvv").prop("disabled", true);
            $(id_prefix + "month").prop("disabled", true);
            $(id_prefix + "year").prop("disabled", true);
        },
        'onError': function () {
            if ($("#desktop-cvv").hasClass("error")) {
                // call if cvv is invalid
                $("#desktop-cvv-help").slideDown(ANIMATION_SPEED);
                $("#mobile-cvv-help").slideDown(ANIMATION_SPEED);
            }
            scrollTo("main");

            if (DEBUG_MODE) {
                var $error_fields = $("form [current-error]");
                var error_fields = {};
                $error_fields.each(function () {
                    error_fields["#" + $(this).attr("id")] = $(this).attr("current-error");
                });

                console.log("Fields with errors: " + JSON.stringify(error_fields, null, '\t'));
            }
        }
    });

    $(document).ready(function () {
        $("select").selectpicker({
            mobile: isMobile(),
            dropUpAuto: false,
            showAddOn: true
        });
        // mask cvv
        $(".cvv").formatter({
            'pattern': '{{9999}}'
        });

        // mask card number
        var $cardnumber = $('.cardnumber');
        $cardnumber.formatter({
            'pattern': '{{9999}}   {{9999}}   {{9999}}   {{9999}}'
        });

        // show visa logo when card number starts with 4
        $cardnumber.on("keyup", function () {
            if ($(this).val()[0] == "4") {
                $("#desktop-card-type-img").removeClass("transparent")
                        .attr("src", "img/addon-visa.png");
                $("#mobile-card-type-img").removeClass("transparent")
                        .attr("src", "img/addon-visa.png");
            } else if ($(this).val()[0] == "5") {
                $("#desktop-card-type-img").removeClass("transparent")
                        .attr("src", "img/addon-mastercard.png");
                $("#mobile-card-type-img").removeClass("transparent")
                        .attr("src", "img/addon-mastercard.png");
            } else {
                $("#desktop-card-type-img").addClass("transparent");
                $("#mobile-card-type-img").addClass("transparent");
            }
        });

        // enable datepickers
        var $ccmonth = $("#desktop-month");
        var $ccyear = $("#desktop-year");
        var $mobile_month = $("#mobile-month");
        var $mobile_year = $("#mobile-year");

        var month_params = {
            format: "mm",
            startView: 1,
            minViewMode: 1,
            maxViewMode: 1,
            autoclose: true
        };
        var year_params = {
            format: "yy",
            startView: 1,
            minViewMode: 2,
            startDate: "+1d", // limit expiration to tomorrow
            autoclose: true
        };
        $ccmonth.datepicker(month_params).on('changeDate', function () {
            $(this).blur();
        });

        $mobile_month.datepicker(month_params).on('changeDate', function () {
            $(this).blur();
        });

        $mobile_year.datepicker(year_params).on('changeDate', function () {
            $(this).blur();
        });

        $ccyear.datepicker(year_params).on('changeDate', function () {
            $(this).blur();
        });

        // mirror values for desktop and mobile view
        mirrorFields("#desktop-cardnumber", "#mobile-cardnumber");
        mirrorFields("#desktop-cardname", "#mobile-cardname");
        mirrorFields("#desktop-cvv", "#mobile-cvv");

        $("#mobile-cvv, #desktop-cvv").on("keyup", function () {
            if ($(this).val().length) {
                $("#desktop-cvv-help").slideUp(ANIMATION_SPEED);
                $("#mobile-cvv-help").slideUp(ANIMATION_SPEED);
            }
        });

        $ccmonth.on("change", function () {
            var _date = $ccmonth.val();
            $mobile_month.val(_date);

            if (_date) {
                $("label[for='expirydate']").addClass("show");
            } else {
                $("label[for='expirydate']").removeClass("show");
            }
        });

        $ccyear.on("change", function () {
            var _date = $ccyear.val();
            $mobile_year.val(_date);

            if (_date) {
                $("label[for='expirydate']").addClass("show");
            } else {
                $("label[for='expirydate']").removeClass("show");
            }
        });

        $mobile_month.on("change", function () {
            var _date = $mobile_month.val();
            $ccmonth.val(_date);
            if (_date) {
                $("label[for='desktop-month']").addClass("show");
            } else {
                $("label[for='desktop-month']").removeClass("show");
            }
        });

        $mobile_year.on("change", function () {
            var _date = $mobile_year.val();
            $ccyear.val(_date);

            if (_date) {
                $("label[for='desktop-year']").addClass("show");
            } else {
                $("label[for='desktop-year']").removeClass("show");
            }
        });


    });
</script>
</body>
</html>
